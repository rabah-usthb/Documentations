\newpage 
\null 
\vspace{0.15cm}

\begin{center} 
\Huge{\textbf{\underline{Chapter 7: Views}}}
\end{center}

\vspace{0.25cm}

\setcounter{section}{0}

\vspace{1cm}


\section{Introduction}
\begin{prettyBox}{What Are Views ?}{myblue}
    Views are virtual tables that help simplify \textcolor{blue}{SELECT} queries, allowing us to avoid retyping the same query repeatedly. They can also improve performance, especially when dealing with joins .There are two types of views:  
\begin{itemize}
    \item \textbf{External Views} 
    \item \textbf{Materialized Views}
\end{itemize}
\end{prettyBox}




\subsection{External}


\begin{prettyBox}{External View}{myblue}
    External views have the same performance as normal tables. They simplify \textcolor{blue}{SELECT} queries, eliminating the need to retype them each time we want to retrieve information from a table. 

\vspace{0.15cm}
We can insert on External views if it must meet all the following criteria:  
\begin{itemize}
    \item Include the primary key of the table.
    \item Must not contain any joins.
    \item Must not use aggregation functions.
    \item Must Contain All `NOT NULL` attributes.
\end{itemize}
\end{prettyBox}


\subsection*{\underline{Syntax}}

\lstinputlisting{SQL/syntax/Views/exterView.sql}

\vspace{0.25cm}
\begin{prettyBox}{Note}{red}
\textbf{\underline{With Check Option On External View}}

\vspace{0.15cm}
It means if we try to insert or update on the view it will first check
the condition in the \textcolor{blue}{WHERE} clause of the \textcolor{blue}{SELECT} query of the external view creation 

\vspace{0.15cm}
\textbf{\underline{Insert On External View}}

\vspace{0.15cm}
Any insert on the external view will reflect on the source table 



\end{prettyBox}

\subsection{Materialized}


\begin{prettyBox}{Materialized View}{myblue}
Materialized views are virtual tables that offer better performance and serve as read-only tables. Unlike external views, we cannot insert data into them , and they don't
refresh automatically , they are created using the \textcolor{blue}{MATERIALIZED}
\end{prettyBox}

\subsection*{\underline{Syntax}}

\subsection*{\underline{On Demand}}
\lstinputlisting{SQL/syntax/Views/matView.sql}


\subsection*{\underline{On Commit}} 
\lstinputlisting{SQL/syntax/Views/comView.sql}

\vspace{0.25cm}
\begin{prettyBox}{Note}{red}
\textbf{\underline{On Commit vs On Demand}}
\begin{itemize}
    \item \textbf{On Demand} : default behaviour of materialized view , we have to refresh the view
manually using the DBMS\_MVIEW.REFRESH procedure
    \item \textbf{On Commit} : after each insert commit view automatically get refreshed
\end{itemize}

\vspace{0.15cm}

\textbf{\underline{Explicit Column Names}}

\vspace{0.15cm}

Specifying column names when creating a view is optional, as they can be derived from the \textcolor{blue}{SELECT} statement or its aliases.

\end{prettyBox}

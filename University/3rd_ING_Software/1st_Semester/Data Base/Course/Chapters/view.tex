\section{View}
\subsection{What Are Views ?}



\begin{prettyBox}{View}{myblue}
    Views are virtual tables that help simplify \textcolor{blue}{SELECT} queries, allowing us to avoid retyping the same query repeatedly. They can also improve performance, especially when dealing with joins .There are two types of views:  
\begin{itemize}
    \item \textbf{External Views} 
    \item \textbf{Materialized Views}
\end{itemize}
\end{prettyBox}




\subsection{External}


\begin{prettyBox}{External View}{myblue}
External views have the same performance as normal tables. They simplify SELECT queries, eliminating the need to retype them each time we want to retrieve information from a table. 

\vspace{0.15cm}
External views support data insertion. For a view to be considered external, it must meet all the following criteria:  
\begin{itemize}
    \item Include the primary key of the table.
    \item Must not contain any joins.
    \item Must not use aggregation functions.
    \item Must Contain All `NOT NULL` attributes.
\end{itemize}
\end{prettyBox}


\subsubsection*{\underline{Syntax}}

\lstinputlisting{SQL/syntax/Views/exterView.sql}

\subsection{Materialized}


\begin{prettyBox}{Materialized View}{myblue}
Materialized views offer better performance and serve as read-only tables. Unlike external views, we cannot insert data into them , and they don't
refresh automatically like external view

\vspace{0.15cm}
A view is considered materialized if any of the following conditions are met:  
\begin{itemize}
    \item It does not include the primary key.  
    \item It does not include all `NOT NULL` attributes.  
    \item It contains joins.  
    \item It uses aggregation functions.  
\end{itemize}
\end{prettyBox}

\subsubsection*{\underline{Syntax}}

\subsubsection*{\underline{On Demand}}
\lstinputlisting{SQL/syntax/Views/matView.sql}


\subsubsection*{\underline{On Commit}} 
\lstinputlisting{SQL/syntax/Views/comView.sql}

\begin{prettyBox}{Note}{red}
\textbf{\underline{On Commit vs On Demand}}
\begin{itemize}
    \item \textbf{On Demand} : default behaviour of materialized view , we have to refresh the view
manually using the DBMS\_MVIEW.REFRESH procedure
    \item \textbf{On Commit} : after each insert commit view automatically get refreshed
\end{itemize}

\vspace{0.15cm}
\textbf{\underline{Insert On External View}}

\vspace{0.15cm}
Any insert on the external view will reflect on the source table 
\end{prettyBox}
